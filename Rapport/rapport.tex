\documentclass{report}

\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[frenchb]{babel}
\usepackage[a4paper]{geometry}
\usepackage{lmodern}
\usepackage{listings}
\usepackage{color}
\usepackage{graphicx}
\usepackage{siunitx}
\usepackage{tikz}
\usepackage{pgfplots}

\pgfplotsset{compat=newest}
\usepgfplotslibrary{units}

%definition des couleurs
\definecolor{newGreen}{rgb}{0,0.6,0}
\definecolor{newOrange}{rgb}{0.87,0.39,0.15}
\definecolor{newBlue}{rgb}{0.36,0.51,0.77}
\definecolor{newMauve}{rgb}{0.58,0,0.82}

\begin{document}
\renewcommand{\chaptername}{Partie}
	\begin{titlepage}
		\vspace{-10px}
		\begin{tabular}{l}
			\textsc{Blin} Sébastien, \\
			\textsc{Collin} Pierre-Henri, \\
			\textsc{Louarn} Amaury 
		\end{tabular}
		\hfill \vspace{10px}\includegraphics[scale=0.15]{ur1.png}\\
		\vfill
		\begin{center}
			\Huge{Universit\'e de Rennes 1}\\
			\large{Campus de Beaulieu}\\
			\vspace{1cm}
			\LARGE{Licence STS}\\
			\large{Cycle Pr\'eparatoire Ing\'enieur Rennes 1 - Informatique et T\'el\'ecommunications}\\
			\vspace{0.5cm}\hrule\vspace{0.5cm}
			\LARGE{\textbf{Rapport de Travail d'Initiative Personnelle Encadr\'ee (TIPE)}}\\
			\Large{Comment la reconnaissance faciale du conducteur peut-elle améliorer sa s\'ecurit\'e au volant ?}
			\vfill
			\vfill
		\end{center}
		\begin{flushleft}
			\Large{Sous l'encadrement de~:}\\
			\vspace{0.2cm}
			\large{Johanne B\'ezy-Wendling}\\
			\normalsize{Maître de Conférences\\
			Responsable cycle préparatoire ingénieur de l'Universit\'e de Rennes I\\
			(spécialité informatique et télécommunications)}\\
			\vspace{0.2cm}
			\large{Finn J\o rgensen}\\
			\normalsize{Responsable L3 d'informatique - ISTIC}
		\end{flushleft}
		\vfill
	\end{titlepage}
	\begin{abstract}
		%TODO
	\end{abstract}
	\chapter*{Introduction}
		\subsection{Pourquoi ce projet}
			%TODO
	\part{Origine du probl\`eme}
		\chapter{Historique de la reconnaissance faciale}
			%TODO
		\chapter{Les enjeux de la s\'ecurit\'e routi\`ere}
			%TODO
	\part{Reconnaissance Faciale}
		\chapter{Th\'eorie}
			\section{G\'en\'eral}
				%TODO
			\section{Eigenface}
				%TODO
			\section{Fisherface}
				%TODO
			\section{LBPH}
				%TODO
		\chapter{Exp\'erimentations}
			\section{Protocole}
				%TODO
			\section{R\'ealisation}
				%TODO
			\section{R\'esultats et analyse}
				%TODO
				%GRAPHIQUES A DEPLACER :
				\begin{figure}
					\begin{tikzpicture}
						\begin{axis}[
							width=12cm,
							height=7cm,
							xlabel={nombre d'images dans la base de donn\'ee},
							ylabel={temps d'ajout},
							y unit=\si{\second},
							legend style={at={(0.23,0.95)},anchor=north},
							legend entries={eigenface,fisher face,LBPH}
						]
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_rec_eigenface.csv};
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_rec_fisherface.csv};
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_rec_LBPH.csv};
						\end{axis}
					\end{tikzpicture}
					\caption{Dur\'ee de reconnaissance par algorithme}
				\end{figure}
				\begin{figure}
					\begin{tikzpicture}
						\begin{axis}[							width=12cm,
							height=7cm,
							xlabel={nombre d'images dans la base de donn\'ee},
							ylabel={temps pour la reconnaissance},
							y unit=\si{\second},
							 legend style={at={(0.23,0.95)},anchor=north},
							legend entries={eigenface,fisher face,LBPH}
						]
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_bdd_eigenface.csv};
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_bdd_fisherface.csv};
							\addplot  table[x=nb,y=tps,col sep=comma] {data/ByNumberOfImages_bdd_LBPH.csv};
						\end{axis}
					\end{tikzpicture}
					\caption{Dur\'ee d'ajout des images dans la base de connaissance}
				\end{figure}
				\begin{figure}
					\begin{tikzpicture}						\begin{axis}[							xbar,
							xmin=0,							width=12cm,
							height=7cm,
							enlarge y limits=0.5,							xlabel={Pourcentage de reconnaissance},							symbolic y coords={Amaury, Pierre-Henri, S\'ebastien},							ytick=data,							nodes near coords,
							nodes near coords align={horizontal},
							legend style={at={(0.3,0.95)},anchor=north,legend columns=-1},						]							\addplot coordinates {(71.929824561404,Amaury) (7.4074074074074,Pierre-Henri) (24.657534246575,S\'ebastien)};
							\addplot coordinates {(59.649122807018,Amaury) (80.246913580247,Pierre-Henri) (73.972602739726,S\'ebastien)};
							\addplot coordinates {(82.456140350877,Amaury) (60.493827160494,Pierre-Henri) (90.41095890411,S\'ebastien)};
							
							\legend{Eigenface, Fisherface, LBPH}						\end{axis}					\end{tikzpicture}
					\caption{Pourcentage de reconnaissance, en fonction du cobaye et de l'algorithme}
				\end{figure}
	\part{Reconnaissance des \'emotions}
		\chapter{Th\'eorie}
			\section{Diff\'erentes solutions}
				%TODO
			\section{Solution choisie}
				%TODO
		\chapter{Exp\'erimentations}
			\section{Protocole}
				%TODO
			\section{R\'ealisation}
				%TODO
			\section{R\'esultats et analyse}
				%TODO
	\part{Production}
		\chapter{Prototype final}
			%TODO
		\chapter{Tests finaux}
			%TODO
		\chapter{Discussion et analyse}
	\chapter*{Conclusion}
\appendix
	\chapter{Code des applications}
		%Modifications de l'affichage des codes source
		\lstset{
			numbers = left,
			showspaces = none,
			keepspaces = true,
			showstringspaces = true,
			basicstyle = \footnotesize,
			commentstyle = \color{newGreen},
			keywordstyle = \color{newOrange},
			identifierstyle = \color{newBlue},
			stringstyle = \color{newMauve}
		}
		\lstdefinestyle{arduino}{
			language=C,
			morekeywords = {HIGH, LOW, INPUT, OUTPUT}
		}
		\section{Application principale}
			\lstinputlisting[language=python]{../Application_finale/app.py}
		\section{Code Arduino pour les tests}
			\lstinputlisting[style=arduino]{../src/tests/tests.ino}
	%TODO : bibliographie
\end{document}